<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Oyun.Hub - Dinamik Paddle & Efektler</title>
<style>
body {display:flex;flex-direction:column;align-items:center;min-height:100vh;margin:0;background-color:#f0f0f0;font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;padding-bottom:50px;}
#gameCanvas {border:6px solid #333;box-shadow:0 0 30px rgba(0,0,0,0.5);background-color:#e0f7fa;margin-top:20px;margin-bottom:40px;}
h1 {color:#333;margin:20px 0;font-size:2.5em;}
#startButton {position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding:18px 35px;font-size:1.6em;background-color:#4CAF50;color:white;border:none;border-radius:8px;cursor:pointer;box-shadow:0 4px 6px rgba(0,0,0,0.2);transition:background-color 0.3s, transform 0.1s;z-index:10;opacity:0.9;}
#startButton:hover {background-color:#45a049;opacity:1;}
#startButton:active {transform:translate(-50%,-50%) scale(0.98);}
.game-container {position:relative;display:inline-block;}
.content-area {width:80%;max-width:900px;text-align:left;padding:20px;background-color:white;border-radius:12px;box-shadow:0 4px 15px rgba(0,0,0,0.1);}
.content-area h2 {color:#007bff;border-bottom:2px solid #007bff;padding-bottom:5px;margin-top:30px;}
.content-area p,.content-area ul {color:#555;line-height:1.6;}
.footer {width:100%;background-color:#333;color:white;text-align:center;padding:15px 0;margin-top:50px;font-size:0.9em;}
.modal-overlay {position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(0,0,0,0.6);display:none;justify-content:center;align-items:center;z-index:1000;}
.modal-content {background-color:white;padding:30px;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,0.3);text-align:center;width:300px;}
.modal-content h2 {margin-top:0;color:#D32F2F;}
.modal-content button {padding:10px 20px;background-color:#4CAF50;color:white;border:none;border-radius:5px;cursor:pointer;}
#congratsMessage {position:fixed;top:-50px;left:50%;transform:translateX(-50%);background-color:#FFC107;color:#333;padding:10px 20px;border-radius:5px;font-size:1.2em;font-weight:bold;box-shadow:0 4px 10px rgba(0,0,0,0.3);transition:top 0.5s ease-out,opacity 0.5s;z-index:2000;opacity:0;}
.visible-message {top:20px !important;opacity:1 !important;}
</style>
</head>
<body>

<h1>â­ Oyun.Hub â­</h1>
<div id="congratsMessage"></div>

<div class="game-container">
<button id="startButton" onclick="startGame()">Oyuna BaÅŸla (Space)</button>
<canvas id="gameCanvas" width="700" height="500"></canvas>
</div>

<div class="content-area">
<h2>ğŸš€ HakkÄ±mÄ±zda</h2>
<p><strong>Oyun.Hub</strong>, basit, hÄ±zlÄ± ve eÄŸlenceli tarayÄ±cÄ± oyunlarÄ±nÄ± tek bir merkezde toplar. Bu "Top ve Raket" oyunu ile reflekslerinizi test edin ve en yÃ¼ksek skoru yapmaya Ã§alÄ±ÅŸÄ±n.</p>
<h2>ğŸ›¡ï¸ Gizlilik PolitikasÄ±</h2>
<p>Oyun.Hub, kullanÄ±cÄ± gizliliÄŸine Ã¶nem verir. Sadece Local Storage ile en yÃ¼ksek skor saklanÄ±r.</p>
<h2>âœ‰ï¸ Ä°letiÅŸim</h2>
<p>E-posta: <strong>oyun.hub@gmail.com</strong></p>
</div>

<div class="footer">
Â© 2025 Oyun.Hub TÃ¼m HaklarÄ± SaklÄ±dÄ±r.
</div>

<div id="gameOverModal" class="modal-overlay">
<div class="modal-content">
<h2>OYUN BÄ°TTÄ°!</h2>
<p id="finalScoreText">Skorunuz: 0</p>
<button onclick="restartGame()">Tamam (Tekrar Oyna)</button>
</div>
</div>

<script>
var canvas=document.getElementById("gameCanvas");
var ctx=canvas.getContext("2d");
var startButton=document.getElementById("startButton");
var gameOverModal=document.getElementById("gameOverModal");
var finalScoreText=document.getElementById("finalScoreText");
var congratsMessage=document.getElementById("congratsMessage");

var ballRadius=10,paddleHeight=10,PADDLE_BOTTOM_MARGIN=15,INITIAL_PADDLE_WIDTH=120,paddleY;
var paddleWidth,x,y,dx,dy,paddleX,score,gameInterval;
var rightPressed=false,leftPressed=false,nextTebrikScore,ballColorHue;
var highScore=localStorage.getItem('oyunhub_highScore')||0;
var gameStarted=false;
var minPaddleWidth=60,maxPaddleWidth=INITIAL_PADDLE_WIDTH;

// Sesler
var hitSound=new Audio("https://freesound.org/data/previews/26/26102_49228-lq.mp3");
var gameOverSound=new Audio("https://freesound.org/data/previews/331/331912_3248244-lq.mp3");

paddleY=canvas.height-paddleHeight-PADDLE_BOTTOM_MARGIN;
var activeEffect=null;
var effectScoreMap={100:"stars",300:"volcano",500:"rain"};
var effectTriggered={};

function init(){
  x=canvas.width/2;y=paddleY-ballRadius;
  dx=4;dy=-4;
  paddleWidth=INITIAL_PADDLE_WIDTH;
  paddleX=(canvas.width-paddleWidth)/2;
  score=0;nextTebrikScore=100;
  ballColorHue=200;gameStarted=false;
  if(gameInterval) clearInterval(gameInterval);
  ctx.clearRect(0,0,canvas.width,canvas.height);
  gameOverModal.style.display='none';
  congratsMessage.classList.remove('visible-message');
  activeEffect=null; effectTriggered={};
  drawBall();drawPaddle();drawScoreAndHighScore();
}

function startGame(){
  if(gameStarted) return;
  startButton.style.display='none';
  gameStarted=true;
  hitSound.play(); hitSound.pause(); hitSound.currentTime=0;
  gameInterval=setInterval(draw,1000/60);
}

document.addEventListener("keydown",keyDownHandler,false);
document.addEventListener("keyup",keyUpHandler,false);
document.addEventListener("mousemove",mouseMoveHandler,false);

function keyDownHandler(e){
  if(e.key===" "&&!gameStarted){e.preventDefault();startGame();}
  if(["Right","ArrowRight","d","D"].includes(e.key)) rightPressed=true;
  if(["Left","ArrowLeft","a","A"].includes(e.key)) leftPressed=true;
}
function keyUpHandler(e){
  if(["Right","ArrowRight","d","D"].includes(e.key)) rightPressed=false;
  if(["Left","ArrowLeft","a","A"].includes(e.key)) leftPressed=false;
}
function mouseMoveHandler(e){
  if(!gameStarted) return;
  var relativeX=e.clientX-canvas.offsetLeft;
  if(relativeX>0&&relativeX<canvas.width){
    paddleX=Math.max(0,Math.min(relativeX-paddleWidth/2,canvas.width-paddleWidth));
  }
}

// --- Dokunmatik kontroller ---
canvas.addEventListener('touchstart', e=>{
    if(!gameStarted) startGame();
    var touch = e.touches[0];
    paddleX = Math.max(0, Math.min(touch.clientX - paddleWidth/2, canvas.width - paddleWidth));
}, false);

canvas.addEventListener('touchmove', e=>{
    var touch = e.touches[0];
    paddleX = Math.max(0, Math.min(touch.clientX - paddleWidth/2, canvas.width - paddleWidth));
    e.preventDefault();
}, false);

function drawBall(){ctx.beginPath();ctx.arc(x,y,ballRadius,0,Math.PI*2);ctx.fillStyle=`hsl(${ballColorHue},100%,50%)`;ctx.fill();ctx.closePath();}
function drawPaddle(){ctx.beginPath();ctx.rect(paddleX,paddleY,paddleWidth,paddleHeight);ctx.fillStyle="#000";ctx.fill();ctx.closePath();}
function drawScoreAndHighScore(){ctx.font="16px Arial";ctx.fillStyle="#000";ctx.fillText("Skor: "+score,8,20);ctx.fillText("En YÃ¼ksek Skor: "+highScore,canvas.width-ctx.measureText("En YÃ¼ksek Skor: "+highScore).width-8,20);}
function showCongratsMessage(currentScore){congratsMessage.textContent=`TEBRÄ°KLER! ${currentScore} PUANA ULAÅTINIZ!`;congratsMessage.classList.add('visible-message');setTimeout(()=>{congratsMessage.classList.remove('visible-message');},3000);}

function updatePaddleSize(){
  var min=minPaddleWidth,max=maxPaddleWidth;
  var factor=(score%150)/150;
  paddleWidth=max-(max-min)*factor;
  if(factor<0.02) paddleWidth=max;
}

// Paddle Ã§arpÄ±nca ses fonksiyonu
function hitPaddle(){
    dy=-dy;
    score+=10;
    dx*=1.02; dy*=1.02; 
    ballColorHue=(ballColorHue+10)%360;
    updatePaddleSize();
    if(hitSound.paused){hitSound.play().catch(()=>{});}
}

function startEffect(type){activeEffect=type; effectTriggered[type]=true;}
function drawEffects(){
  if(!activeEffect) return;
  switch(activeEffect){
    case "stars":
      ctx.fillStyle="rgba(0,0,0,0.5)";ctx.fillRect(0,0,canvas.width,canvas.height);
      for(var i=0;i<50;i++){ctx.beginPath();ctx.arc(Math.random()*canvas.width,Math.random()*canvas.height,Math.random()*2,0,Math.PI*2);ctx.fillStyle="white";ctx.fill();}
      break;
    case "volcano":
      ctx.fillStyle="rgba(100,0,0,0.3)";ctx.fillRect(0,0,canvas.width,canvas.height);
      for(var i=0;i<20;i++){ctx.beginPath();ctx.arc(Math.random()*canvas.width,canvas.height-Math.random()*50,Math.random()*10,0,Math.PI*2);ctx.fillStyle="orange";ctx.fill();}
      break;
    case "rain":
      ctx.fillStyle="rgba(0,0,0,0.2)";ctx.fillRect(0,0,canvas.width,canvas.height);
      for(var i=0;i<100;i++){ctx.beginPath();ctx.moveTo(Math.random()*canvas.width,Math.random()*canvas.height);ctx.lineTo(Math.random()*canvas.width,Math.random()*canvas.height+10);ctx.strokeStyle="blue";ctx.lineWidth=1;ctx.stroke();}
      break;
  }
}

function gameOver(){
  clearInterval(gameInterval);
  gameOverSound.play();
  if(score>highScore){highScore=score;localStorage.setItem('oyunhub_highScore',highScore);}
  drawScoreAndHighScore();
  finalScoreText.textContent="Skorunuz: "+score;
  gameOverModal.style.display='flex';
}

function restartGame(){gameOverModal.style.display='none';startButton.style.display='block';init();}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  // paddle hareket
  var paddleSpeed=7;
  if(rightPressed){paddleX+=paddleSpeed;}else if(leftPressed){paddleX-=paddleSpeed;}
  paddleX=Math.max(0,Math.min(paddleX,canvas.width-paddleWidth));

  // top konumu
  x+=dx;y+=dy;

  // kenar Ã§arpÄ±ÅŸmalarÄ±
  if(x+dx>canvas.width-ballRadius||x+dx<ballRadius) dx=-dx;
  if(y+dy<ballRadius) dy=-dy;

  // paddle Ã§arpÄ±ÅŸmasÄ±
  if(y+ballRadius>=paddleY && y+ballRadius<=paddleY+paddleHeight){
    if(x>paddleX-ballRadius && x<paddleX+paddleWidth+ballRadius && dy>0){
        hitPaddle();
        if(score>=nextTebrikScore && nextTebrikScore<=1000){ showCongratsMessage(nextTebrikScore); nextTebrikScore+=100; }
    }
  }

  if(y-ballRadius>canvas.height){gameOver();return;}

  // skor seviyelerine gÃ¶re efekt
  for(var s in effectScoreMap){
    if(score>=s && !effectTriggered[effectScoreMap[s]]) startEffect(effectScoreMap[s]);
  }

  drawBall();drawPaddle();drawScoreAndHighScore();
  drawEffects();
}

init();
</script>
</body>
</html>
